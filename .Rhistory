load("C:/Users/dcries/workspace/fit_all.RData")
fit
class(fit)
summary(fit)
str(summary(fit))
m <- as.matrix(fit)
dim(m)
names(m)
m1 <- data.frame(fit)
names(Xall)
fitmat <- as.matrix(fit)
View(fitmat)
fit
fitmat <- fitmat[,-ncol(Xall)]
fitmat <- as.matrix(fit)
dim(fitmat)
fitmat <- fitmat[,-ncol(fitmat)]
meanest <- colMeans(fitmat)
sdpost <- apply(fitmat,2,sd)
quant <- apply(fitmat,2,quantile,probs=c(0.025,0.975))
View(quant)
quant <- t(apply(fitmat,2,quantile,probs=c(0.025,0.975)))
View(quant)
sdpost
meanest
quant
sumtable <- cbind(meanest,sdpost,quant)
class(sumtable)
sumtable <- data.frame(cbind(meanest,sdpost,quant))
View(sumtable)
dim(d)
View(d)
length(unique(d$TASLINKID))
load("C:/Users/dcries/workspace2/fit_all.RData")
fit
load("C:/Users/dcries/workspace2/fit_min.RData")
fit
load("C:/Users/dcries/workspace2/fit_pdo.RData")
fit
load("C:/Users/dcries/workspace2/fit_fatmaj.RData")
fit
names(Xall)[allns]
names(Xmin)[minns]
names(Xpdo)[pdons]
names(Xfatmaj)[fatmajns]
load("C:/Users/dcries/workspace2/fit_all.RData")
fit
load("C:/Users/dcries/workspace2/fit_min.RData")
fit
load("C:/Users/dcries/workspace2/fit_pdo.RData")
fit
load("C:/Users/dcries/workspace2/fit_fatmaj.RData")
fit
setwd("C:\\Users\\dcries\\github\\ra_dot")
d <- read.csv('data/completedata_nona.csv')
d$ACCESSCNTL <- as.factor(d$ACCESSCNTL)
d$TRANSCENTE <- as.factor(d$TRANSCENTE)
d$lVOLUME <- log(as.numeric(d$VOLUME))
d$FEDFUNC <- as.factor(d$FEDFUNC)
d$MEDTYPE2 <- as.factor(d$MEDTYPE2)
d$SYSCODE <- as.factor(d$SYSCODE)
d$TERRAIN <- as.factor(d$TERRAIN)
d$COMNETWORK <- as.factor(d$COMNETWORK)
d$NATHWYSYS <- as.factor(d$NATHWYSYS)
d$SHDTYPEL <- as.factor(d$SHDTYPEL)
d$SHDTYPER <- as.factor(d$SHDTYPER)
d$SURFTYPE2 <- 0
d$SURFTYPE2 <- replace(d$SURFTYPE2 , d$SURFTYPE%in%c(60,65,69,92) , 1 )
d$SURFTYPE2 <- replace(d$SURFTYPE2 , d$SURFTYPE%in%c(70,74,76,77,79) , 2 )
Xfatmaj <- as.data.frame(model.matrix(
~ ACCESSCNTL+TRANSCENTE+lVOLUME+
SURFTYPE2, data=d))
Xpdo <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+MEDTYPE2+SYSCODE+URBAN+MEDWIDTH+TERRAIN+
SURFTYPE2, data=d))
Xmin <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+MEDTYPE2+SYSCODE+URBAN+
SURFTYPE2, data=d))
Xall <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+MEDTYPE2+SYSCODE+URBAN+MEDWIDTH+TERRAIN+PSIRATING+
ACCESSCNTL+COMNETWORK+NATHWYSYS+
SURFTYPE2, data=d))
allns <- c(5,6,9,10,11,14:18,21:23)
minns <- c(5,6,9,10,11)
pdons <- c(5,6,9,10,11,14:16)
fatmajns <- c(2,8,9)
names(Xall)[allns]
sort(names(Xall))
names(Xmin)[minns]
names(Xpdo)[pdons]
names(Xfatmaj)[fatmajns]
Xall <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+MEDTYPE2+SYSCODE+URBAN+MEDWIDTH+TERRAIN+PSIRATING+
ACCESSCNTL+COMNETWORK+NATHWYSYS+
SURFTYPE2, data=d))
load("C:/Users/dcries/workspace/fit_all.RData")
fitmat <- as.matrix(fit)
fitmat <- fitmat[,-ncol(fitmat)]
meanest <- colMeans(fitmat)
meanest
names(d)
dim(Xall)
meanest
length(meanest)
load("C:/Users/dcries/workspace2/fit_all.RData")
fitmat <- as.matrix(fit)
fitmat <- fitmat[,-ncol(fitmat)]
meanest <- colMeans(fitmat)
length(meanest)
est <- Xall%*%meanest[-25]
class(Xall)
est <- as.matrix(Xall)%*%meanest[-25]
dim(est)
est <- as.matrix(Xall)%*%meanest[-25]+log(d$Miles)
hist(d$Miles)
hist(d$MILES)
est <- exp(as.matrix(Xall)%*%meanest[-25]+log(d$Miles))
hist(est)
summary(d$MILES)
load("C:/Users/dcries/workspace2/fit_all.RData")
fit
names(Xall)
load("C:/Users/dcries/workspace2/fit_min.RData")
fit
names(Xmin)
load("C:/Users/dcries/workspace2/fit_pdo.RData")
fit
names(Xpdo)
load("C:/Users/dcries/workspace2/fit_fatmaj.RData")
fit
names(Xfatmaj)
table(d$MEDTYPE)
table(d$MEDTYPE2)
table(d$TRANSCENTE)
table(d$FEDFUNC)
table(d$TERRAIN)
table(d$ACCESSCNTL)
table(d$COMNETWORK)
table(d$NATHWYSYS)
setwd("C:\\Users\\dcries\\github\\ra_dot")
d <- read.csv('data/completedata_nona.csv')
table(d$FEDFUNC)
setwd("C:\\Users\\dcries\\github\\ra_dot")
d <- d[d$FEDFUNC != 7,]
table(d$FEDFUNC)
write.csv(d,file="data/completedata_nona.csv",row.names=F)
table(d$FEDFUNC)
d$FEDFUNC2 <- 3
d$FEDFUNC2 <- 3
d$FEDFUNC2[d$FEDFUNC!=3] <- 4
write.csv(d,file="data/completedata_nona.csv",row.names=F)
table(d$ACCESSCNTL)
setwd("C:\\Users\\dcries\\github\\ra_dot")
d <- read.csv('data/completedata_nona.csv')
d <- d[order(d$TASLINKID,d$YEAR),]
d <- as.data.frame(d)
d$ord <- 1:length(d$VOLUME)
g <- group_by(d,TASLINKID)
s <- summarise_each(g , funs(min) , ord)   ### if there are repeated ROADLINK, I take the first set of data
ft <- d[s$ord,c("TRNNODE_F","TRNNODE_T")]
ft <- as.matrix(ft)
f <- function(x,v){
apply(v , 1 , FUN = function(z) sum(x%in%z))
}
## mATRIX
w <- apply(X=matrix(1:length(ft[,1])), MARGIN = 1 ,
FUN = function(x) f( ft[x,],ft )  )
w <- w-diag(2,length(w[,1]))
scolw = rowSums(w)
table(scolw)
j <- 1:length(unique(d$TASLINKID))
aux <- table(d$TASLINKID)
j <- rep(j,aux)
### sub_Indices of j que me dicen cuales son las que tienen vecinos
# They tell me which ones have neighbors
aux_scolw <- rep(scolw,aux)
j0 <- (1:length(d$VOLUME))[aux_scolw==0]
jno0 <- (1:length(d$VOLUME))[aux_scolw>0]
lj0 <- length(j0)
ljno0 <- length(jno0)
k <- j[jno0]
k <- rep( 1:length(unique(k)),table(k))
lu <- sum(scolw>0)  ## number of sections with neighbprs
w <- w[scolw>0,scolw>0]
scolw = scolw[scolw>0]
library("rstan")
library("dplyr")
#library("snow")
library("markovchain")
d <- as.data.frame(d)
d$ord <- 1:length(d$VOLUME)
g <- group_by(d,TASLINKID)
s <- summarise_each(g , funs(min) , ord)   ### if there are repeated ROADLINK, I take the first set of data
ft <- d[s$ord,c("TRNNODE_F","TRNNODE_T")]
ft <- as.matrix(ft)
f <- function(x,v){
apply(v , 1 , FUN = function(z) sum(x%in%z))
}
## mATRIX
w <- apply(X=matrix(1:length(ft[,1])), MARGIN = 1 ,
FUN = function(x) f( ft[x,],ft )  )
w <- w-diag(2,length(w[,1]))
scolw = rowSums(w)
table(scolw)
j <- 1:length(unique(d$TASLINKID))
aux <- table(d$TASLINKID)
j <- rep(j,aux)
### sub_Indices of j que me dicen cuales son las que tienen vecinos
# They tell me which ones have neighbors
aux_scolw <- rep(scolw,aux)
j0 <- (1:length(d$VOLUME))[aux_scolw==0]
jno0 <- (1:length(d$VOLUME))[aux_scolw>0]
lj0 <- length(j0)
ljno0 <- length(jno0)
k <- j[jno0]
k <- rep( 1:length(unique(k)),table(k))
lu <- sum(scolw>0)  ## number of sections with neighbprs
w <- w[scolw>0,scolw>0]
scolw = scolw[scolw>0]
neighbors <- list()
neighbors$ljno0 <- ljno0
neighbors$lj0 <- lj0
neighbors$j0 <- j0
neighbors$jno0 <- jno0
neighbors$lu <- lu
neighbors$j <- j
neighbors$k <- k
neighbors$w <- w
neighbors$scolw <- scolw
neighbors$scolw <- omub
neighbors$scolw <- scolw
save(neighbors,file="neighbors_reduced.RData")
getwd()
load("C:/Users/dcries/workspace/fit_all.RData")
setwd("C:\\Users\\dcries\\github\\ra_dot\\data")
dot05 <- read.dbf("GIMS_2005.dbf")
library(foreign)
dot05 <- read.dbf("GIMS_2005.dbf")
dim(dot05)
63974/60
1066/60
table(d$TRANSCENTE)
table(d$SURFTYPE)
table(d$SURFTYPE2)
table(d$FEDFUNC)
table(d$FEDFUNC2)
table(d$SYSCODE)
library(rstan)
load("C:/Users/dcries/workspace/fit_all.RData")
setwd("C:\\Users\\dcries\\github\\ra_dot")
d <- read.csv('data/completedata_nona.csv')
d$ACCESSCNTL <- as.factor(d$ACCESSCNTL)
d$TRANSCENTE <- as.factor(d$TRANSCENTE)
d$lVOLUME <- log(as.numeric(d$VOLUME))
d$FEDFUNC <- as.factor(d$FEDFUNC)
d$MEDTYPE2 <- as.factor(d$MEDTYPE2)
d$SYSCODE <- as.factor(d$SYSCODE)
d$TERRAIN <- as.factor(d$TERRAIN)
d$COMNETWORK <- as.factor(d$COMNETWORK)
d$NATHWYSYS <- as.factor(d$NATHWYSYS)
d$SHDTYPEL <- as.factor(d$SHDTYPEL)
d$SHDTYPER <- as.factor(d$SHDTYPER)
d$SURFTYPE2 <- 0
d$SURFTYPE2 <- replace(d$SURFTYPE2 , d$SURFTYPE%in%c(60,65,69,92) , 1 )
d$SURFTYPE2 <- replace(d$SURFTYPE2 , d$SURFTYPE%in%c(70,74,76,77,79) , 2 )
Xall <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+MEDTYPE2+SYSCODE+URBAN+MEDWIDTH+TERRAIN+PSIRATING+
ACCESSCNTL+COMNETWORK+NATHWYSYS+
SURFTYPE2, data=d))
names(Xall)
load("C:/Users/dcries/workspace/fit_pdo.RData")
fit_pdo=fit
load("C:/Users/dcries/workspace/fit_all.RData")
fit_all=fit
load("C:/Users/dcries/workspace/fit_fatmaj.RData")
fit_fatmaj=fit
fit_all <- as.matrix(fit_all)
fit_min <- as.matrix(fit_min)
fit_pdo <- as.matrix(fit_pdo)
fit_fatmaj <- as.matrix(fit_fatmaj)
fit_all <- fit_all[,-ncol(fit_all)]
fit_min <- fit_min[,-ncol(fit_min)]
fit_pdo <- fit_pdo[,-ncol(fit_pdo)]
fit_fatmaj <- fit_fatmaj[,-ncol(fit_fatmaj)]
meanest_all <- colMeans(fit_all)
sdpost_all <- apply(fit_all,2,sd)
quant_all <- t(apply(fit_all,2,quantile,probs=c(0.025,0.975)))
sumtable_all <- data.frame(cbind(meanest_all,sdpost_all,quant_all))
meanest_min <- colMeans(fit_min)
sdpost_min <- apply(fit_min,2,sd)
quant_min <- t(apply(fit_min,2,quantile,probs=c(0.025,0.975)))
sumtable_min <- data.frame(cbind(meanest_min,sdpost_min,quant_min))
meanest_pdo <- colMeans(fit_pdo)
sdpost_pdo <- apply(fit_pdo,2,sd)
quant_pdo <- t(apply(fit_pdo,2,quantile,probs=c(0.025,0.975)))
sumtable_pdo <- data.frame(cbind(meanest_pdo,sdpost_pdo,quant_pdo))
meanest_fatmaj <- colMeans(fit_fatmaj)
sdpost_fatmaj <- apply(fit_fatmaj,2,sd)
quant_fatmaj <- t(apply(fit_fatmaj,2,quantile,probs=c(0.025,0.975)))
sumtable_fatmaj <- data.frame(cbind(meanest_fatmaj,sdpost_fatmaj,quant_fatmaj))
names(sumtable_all) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_all) <- names(Xall)
names(sumtable_min) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_min) <- names(Xmin)
names(sumtable_pdo) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_pdo) <- names(Xpdo)
names(sumtable_fatmaj) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_fatmaj) <- names(Xfatmaj)
Xall <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+MEDTYPE2+SYSCODE+URBAN+MEDWIDTH+TERRAIN+PSIRATING+
ACCESSCNTL+COMNETWORK+NATHWYSYS+
SURFTYPE2, data=d))
Xfatmaj <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+
SURFTYPE2, data=d))
Xmin <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+SYSCODE+URBAN+
SURFTYPE2, data=d))
Xpdo <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+SYSCODE+URBAN+
SURFTYPE2, data=d))
fit_all <- as.matrix(fit_all)
fit_min <- as.matrix(fit_min)
fit_pdo <- as.matrix(fit_pdo)
fit_fatmaj <- as.matrix(fit_fatmaj)
fit_all <- fit_all[,-ncol(fit_all)]
fit_min <- fit_min[,-ncol(fit_min)]
fit_pdo <- fit_pdo[,-ncol(fit_pdo)]
fit_fatmaj <- fit_fatmaj[,-ncol(fit_fatmaj)]
meanest_all <- colMeans(fit_all)
sdpost_all <- apply(fit_all,2,sd)
quant_all <- t(apply(fit_all,2,quantile,probs=c(0.025,0.975)))
sumtable_all <- data.frame(cbind(meanest_all,sdpost_all,quant_all))
meanest_min <- colMeans(fit_min)
sdpost_min <- apply(fit_min,2,sd)
quant_min <- t(apply(fit_min,2,quantile,probs=c(0.025,0.975)))
sumtable_min <- data.frame(cbind(meanest_min,sdpost_min,quant_min))
meanest_pdo <- colMeans(fit_pdo)
sdpost_pdo <- apply(fit_pdo,2,sd)
quant_pdo <- t(apply(fit_pdo,2,quantile,probs=c(0.025,0.975)))
sumtable_pdo <- data.frame(cbind(meanest_pdo,sdpost_pdo,quant_pdo))
meanest_fatmaj <- colMeans(fit_fatmaj)
sdpost_fatmaj <- apply(fit_fatmaj,2,sd)
quant_fatmaj <- t(apply(fit_fatmaj,2,quantile,probs=c(0.025,0.975)))
sumtable_fatmaj <- data.frame(cbind(meanest_fatmaj,sdpost_fatmaj,quant_fatmaj))
names(sumtable_all) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_all) <- names(Xall)
names(sumtable_min) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_min) <- names(Xmin)
names(sumtable_pdo) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_pdo) <- names(Xpdo)
names(sumtable_fatmaj) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_fatmaj) <- names(Xfatmaj)
load("C:/Users/dcries/workspace/fit_min.RData")
fit_min=fit
dim(fit_min)
fit_min <- as.matrix(fit_min)
dim(fit_min)
names(fit_min)
fit_min <- fit_min[,-ncol(fit_min)]
meanest_min <- colMeans(fit_min)
sdpost_min <- apply(fit_min,2,sd)
quant_min <- t(apply(fit_min,2,quantile,probs=c(0.025,0.975)))
sumtable_pdo <- data.frame(cbind(meanest_pdo,sdpost_pdo,quant_pdo))
sumtable_min <- data.frame(cbind(meanest_min,sdpost_min,quant_min))
names(sumtable_min) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_min) <- names(Xmin)
dim(sumtable_all)
dim(Xall)
load("C:/Users/dcries/workspace/fit_all.RData")
fit_all=fit
Xall <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+MEDTYPE2+SYSCODE+URBAN+MEDWIDTH+TERRAIN+PSIRATING+
ACCESSCNTL+COMNETWORK+NATHWYSYS+
SURFTYPE2, data=d))
fit_all <- as.matrix(fit_all)
fit_all <- fit_all[,-ncol(fit_all)]
meanest_all <- colMeans(fit_all)
sdpost_all <- apply(fit_all,2,sd)
quant_all <- t(apply(fit_all,2,quantile,probs=c(0.025,0.975)))
sumtable_all <- data.frame(cbind(meanest_all,sdpost_all,quant_all))
dim(sumtable_all)
sumtable_all
Xall <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC2+SYSCODE+URBAN+
SURFTYPE2, data=d))
dim(Xall)
load("C:/Users/dcries/workspace/fit_all.RData")
fit_all=fit
load("C:/Users/dcries/workspace/fit_pdo.RData")
fit_pdo=fit
load("C:/Users/dcries/workspace/fit_fatmaj.RData")
fit_fatmaj=fit
Xall <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC2+SYSCODE+URBAN+
SURFTYPE2, data=d))
Xfatmaj <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+
SURFTYPE2, data=d))
Xmin <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+SYSCODE+URBAN+
SURFTYPE2, data=d))
Xpdo <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC+SYSCODE+URBAN+
SURFTYPE2, data=d))
fit_all <- as.matrix(fit_all)
fit_min <- as.matrix(fit_min)
fit_pdo <- as.matrix(fit_pdo)
fit_fatmaj <- as.matrix(fit_fatmaj)
fit_all <- fit_all[,-ncol(fit_all)]
fit_min <- fit_min[,-ncol(fit_min)]
fit_pdo <- fit_pdo[,-ncol(fit_pdo)]
fit_fatmaj <- fit_fatmaj[,-ncol(fit_fatmaj)]
meanest_all <- colMeans(fit_all)
sdpost_all <- apply(fit_all,2,sd)
quant_all <- t(apply(fit_all,2,quantile,probs=c(0.025,0.975)))
sumtable_all <- data.frame(cbind(meanest_all,sdpost_all,quant_all))
meanest_min <- colMeans(fit_min)
sdpost_min <- apply(fit_min,2,sd)
quant_min <- t(apply(fit_min,2,quantile,probs=c(0.025,0.975)))
sumtable_min <- data.frame(cbind(meanest_min,sdpost_min,quant_min))
meanest_pdo <- colMeans(fit_pdo)
sdpost_pdo <- apply(fit_pdo,2,sd)
quant_pdo <- t(apply(fit_pdo,2,quantile,probs=c(0.025,0.975)))
sumtable_pdo <- data.frame(cbind(meanest_pdo,sdpost_pdo,quant_pdo))
meanest_fatmaj <- colMeans(fit_fatmaj)
sdpost_fatmaj <- apply(fit_fatmaj,2,sd)
quant_fatmaj <- t(apply(fit_fatmaj,2,quantile,probs=c(0.025,0.975)))
sumtable_fatmaj <- data.frame(cbind(meanest_fatmaj,sdpost_fatmaj,quant_fatmaj))
names(sumtable_all) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_all) <- c(names(Xall),"sigmav")
names(sumtable_min) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_min) <- c(names(Xmin),"sigmav")
names(sumtable_pdo) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_pdo) <- c(names(Xpdo),"sigmav")
names(sumtable_fatmaj) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_fatmaj) <- c(names(Xfatmaj),"sigmav")
sumtable_all
sumtable_min
sumtable_pdo
rownames(sumtable_pdo)
rownames(sumtable_fatmaj)
names(sumtable_all) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_all) <- c(names(Xall),"sigmav")
names(sumtable_min) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_min) <- c(names(Xmin),"sigmav")
names(sumtable_pdo) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_pdo) <- c(names(Xpdo),"sigmav")
names(sumtable_fatmaj) <- c("Estimate","Posterior SD", "2.5q","97.5q")
rownames(sumtable_fatmaj) <- c(names(Xfatmaj),"sigmav")
sumtable_fatmaj <- data.frame(cbind(meanest_fatmaj,sdpost_fatmaj,quant_fatmaj))
sumtable_fatmaj
names(sumtable_all) <- c("Estimate","Posterior SD", "2.5q","97.5q")
#rownames(sumtable_all) <- c(names(Xall),"sigmav")
names(sumtable_min) <- c("Estimate","Posterior SD", "2.5q","97.5q")
#rownames(sumtable_min) <- c(names(Xmin),"sigmav")
names(sumtable_pdo) <- c("Estimate","Posterior SD", "2.5q","97.5q")
#rownames(sumtable_pdo) <- c(names(Xpdo),"sigmav")
names(sumtable_fatmaj) <- c("Estimate","Posterior SD", "2.5q","97.5q")
#rownames(sumtable_fatmaj) <- c(names(Xfatmaj),"sigmav")
sumtable_fatmaj
library(xtable)
print(xtable(sumtable_all,digits=3))
print(xtable(sumtable_all,digits=3,caption="Regression and variance parameter summaries for All Crashes Model",label="allcrash"))
print(xtable(sumtable_all,digits=3,caption="Regression and variance parameter summaries for All Crashes Model",label="allcrash"))
print(xtable(sumtable_fatmaj,digits=3,caption="Regression and variance parameter summaries for Fatal/Major injury Crashes Model",label="fatmajcrash"))
print(xtable(sumtable_pdo,digits=3,caption="Regression and variance parameter summaries for PDO Crashes Model",label="pdocrash"))
rownames(sumtable_all)
rownames(sumtable_pdo)
rownames(sumtable_pdo) <- c(names(Xpdo),"sigmav")
names(Xpdo)
rownames(sumtable_pdo) <- c(names(Xpdo))
rownames(sumtable_fatmaj) <- c(names(Xfatmaj))
rownames(sumtable_fatmaj)
names(Xfatmaj)
rownames(sumtable_pdo)
sumtable_fatmaj <- data.frame(cbind(meanest_fatmaj,sdpost_fatmaj,quant_fatmaj))
rownames(sumtable_fatmaj)
names(Xfatmaj)
rownames(sumtable_fatmaj) <- c(names(Xfatmaj),"sigmav")
sumtable_pdo <- data.frame(cbind(meanest_pdo,sdpost_pdo,quant_pdo))
rownames(sumtable_pdo) <- c(names(Xpdo),"sigmav")
rownames(sumtable_pdo)
names(Xpdo)
rownames(sumtable_fatmaj) <- c(names(Xfatmaj),"sigmav")
print(xtable(sumtable_fatmaj,digits=3,caption="Regression and variance parameter summaries for Fatal/Major injury Crashes Model",label="fatmajcrash"))
names(sumtable_fatmaj) <- c("Estimate","Posterior SD", "2.5q","97.5q")
print(xtable(sumtable_fatmaj,digits=3,caption="Regression and variance parameter summaries for Fatal/Major injury Crashes Model",label="fatmajcrash"))
exp(-0.07)
exp(1)
exp(-0.317)
table(d$FEDFUNC)
table(d$FEDFUNC2)
exp(-.496)
table(d$SYSCODE)
exp(-.275)
table(d$URBAN)
exp(.228)
table(d$SURFTYPE)
table(d$SURFTYPE2)
table(d$SURFTYPE)
d$SURFTYPE2 <- 0
d$SURFTYPE2 <- replace(d$SURFTYPE2 , d$SURFTYPE%in%c(60,65,69,92) , 1 )
d$SURFTYPE2 <- replace(d$SURFTYPE2 , d$SURFTYPE%in%c(70,74,76,77,79) , 2 )
table(d$SURFTYPE2)
exp(-0.077)
Xall <- as.data.frame(model.matrix(
~ TRANSCENTE+lVOLUME+FEDFUNC2+SYSCODE+URBAN+
SURFTYPE2, data=d))
names(Xall)
exp(-.34)
exp(-0.091)
